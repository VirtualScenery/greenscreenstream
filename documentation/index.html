<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@virtualscenery/greenscreenstream</title><meta name="description" content="Documentation for @virtualscenery/greenscreenstream"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@virtualscenery/greenscreenstream</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@virtualscenery/greenscreenstream</h1></div><div class="tsd-panel tsd-typography"><p>&quot;@tensorflow-models/body-pix&quot;: &quot;^2.2.0&quot;,
&quot;@tensorflow/tfjs&quot;: &quot;^3.11.0&quot;,
&quot;@tensorflow/tfjs-backend-cpu&quot;: &quot;^3.11.0&quot;,
&quot;@tensorflow/tfjs-backend-webgl&quot;: &quot;^3.11.0&quot;,</p>
 <p>
  <a href="https://github.com/VirtualScenery" target="blank"><img src="https://i.ibb.co/hmnR2jz/gss-v1.png" width="200" alt="GreenScreenStream Logo" /></a>
</p>
<h1>
  GreenScreenStream
</h1>
<h2 id="about" class="tsd-anchor-link">About<a href="#about" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>GreenScreenStream provides a wide range of options for manipulating Mediastreams.</p>
<p>Generate a new MediaStream for <code>&lt;canvas&gt;</code> &amp; <code>&lt;video&gt;</code>  elements based on provided MediaStreamTrack and a background image/video just using JavaScript.</p>
<p>After processed and &quot;green screened&quot; you can capture the stream and use it in your WebRTC calls for instance.</p>
<p>All rendering is done in realtime using a WebGL2 pixel shader (glsl) and optionally machine-learning.</p>
<h2 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code>npm i @virtualscenery/greenscreenstream  
</code></pre>
<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Below you find a few different examples of greenscreenstream.</p>
<p><a href="https://virtualscenery.github.io/greenscreenstream-examples/example/mlWebGL/">ML based Virtual Background - Image Background</a></p>
<p><a href="https://virtualscenery.github.io/greenscreenstream-examples/example/mlWebGL#snow.mp4">ML based Virtual Background - Video Background</a></p>
<p><a href="https://virtualscenery.github.io/greenscreenstream-examples/example/procedual">ML based Virtual Background - WebGL Background</a></p>
<p><a href="https://virtualscenery.github.io/greenscreenstream-examples/example/hologram">ML based Virtual Background - Hologram Effect</a></p>
<p><a href="https://virtualscenery.github.io/greenscreenstream-examples/example/WebGL">https://virtualscenery.github.io/greenscreenstream-examples/example/WebGL </a></p>
<blockquote>
<p>Look <a href="https://github.com/VirtualScenery/greenscreenstream-examples">here</a> for implementation.</p>
</blockquote>
<br/>
<br/>
<h1 id="greenscreenstream-api" class="tsd-anchor-link">GreenScreenStream API<a href="#greenscreenstream-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="contents" class="tsd-anchor-link">Contents<a href="#contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="greenscreenstream-class" class="tsd-anchor-link"><a href="#greenscreenstream-class-1">GreenScreenStream (Class)</a><a href="#greenscreenstream-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="greenscreenmethod-enum" class="tsd-anchor-link"><a href="#greenscreenmethod-enum-1">GreenScreenMethod (Enum)</a><a href="#greenscreenmethod-enum" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="vector2-class" class="tsd-anchor-link"><a href="#vector2-class-1">Vector2 (Class)</a><a href="#vector2-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="videoresolution-enum" class="tsd-anchor-link"><a href="#videoresolution-enum-1">VideoResolution (Enum)</a><a href="#videoresolution-enum" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="igreenscreenconfig-interface" class="tsd-anchor-link"><a href="#igreenscreenconfig-interface-1">IGreenScreenConfig (Interface)</a><a href="#igreenscreenconfig-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="bodypixmode-enum" class="tsd-anchor-link"><a href="#bodypixmode-enum-1">BodyPixMode (Enum)</a><a href="#bodypixmode-enum" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="imasksettings-interface" class="tsd-anchor-link"><a href="#imasksettings-interface-1">IMaskSettings (Interface)</a><a href="#imasksettings-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><br/>
<br/>
<h1 id="greenscreenstream-class-1" class="tsd-anchor-link">GreenScreenStream (Class)<a href="#greenscreenstream-class-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="constructor" class="tsd-anchor-link">Constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Creates an instance of GreenScreenStream</p>
<pre><code class="ts"><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-2">greenScreenMethod</span><span class="hl-1">: </span><span class="hl-2">GreenScreenMethod</span><span class="hl-1">, </span><span class="hl-2">resolution</span><span class="hl-1">: </span><span class="hl-2">VideoResolution</span><span class="hl-1"> | </span><span class="hl-2">Vector2</span><span class="hl-1">, </span><span class="hl-2">canvas</span><span class="hl-1">?: </span><span class="hl-2">HTMLCanvasElement</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="methods" class="tsd-anchor-link">Methods<a href="#methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="initialize" class="tsd-anchor-link">initialize<a href="#initialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Initlializes the GreenScreenStream with the provided background (image or video) and settings.</p>
<pre><code class="ts"><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-2">backgroundUrl</span><span class="hl-1">?: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-2">config</span><span class="hl-1">?: </span><span class="hl-2">GreenScreenConfig</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-2">boolean</span><span class="hl-1">&gt; </span>
</code><button type="button">Copy</button></pre>

<h3 id="addvideotrack" class="tsd-anchor-link">addVideoTrack<a href="#addvideotrack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Adds a <code>MediaStreamTrack</code>  (i.e webcam)</p>
<pre><code class="ts"><span class="hl-0">addVideoTrack</span><span class="hl-1">(</span><span class="hl-2">track</span><span class="hl-1">:  </span><span class="hl-2">MediaStreamTrack</span><span class="hl-1">):  </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1"> | </span><span class="hl-2">any</span><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<h3 id="start" class="tsd-anchor-link">start<a href="#start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Starts rendering the greenscreen.
You can optionally set a fps maximum here</p>
<pre><code class="ts"><span class="hl-0">start</span><span class="hl-1">(</span><span class="hl-2">maxFps</span><span class="hl-1">?: </span><span class="hl-2">number</span><span class="hl-1">): </span><span class="hl-4">void</span>
</code><button type="button">Copy</button></pre>

<h3 id="stop" class="tsd-anchor-link">stop<a href="#stop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Stops the rendering process.
Optionally stop the media streams.<br>
Stopping the streams works only if there are no references to them
outside of greenscreenstream.</p>
<pre><code class="ts"><span class="hl-0">stop</span><span class="hl-1">(</span><span class="hl-2">stopMediaStreams</span><span class="hl-1">?:</span><span class="hl-2">boolean</span><span class="hl-1">): </span><span class="hl-4">void</span>
</code><button type="button">Copy</button></pre>

<h3 id="capturestream" class="tsd-anchor-link">captureStream<a href="#capturestream" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Capture the rendered result to a MediaStream that you apply to your <code>&lt;video&gt;</code> element.</p>
<pre><code class="ts"><span class="hl-0">captureStream</span><span class="hl-1">(</span><span class="hl-2">fps</span><span class="hl-1">?:  </span><span class="hl-2">number</span><span class="hl-1">):  </span><span class="hl-2">MediaStream</span><span class="hl-1">;    </span>
</code><button type="button">Copy</button></pre>

<h3 id="setbackground" class="tsd-anchor-link">setBackground<a href="#setbackground" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Sets the virtual background to a new image or video. Can be done while GreenScreenStream is running.</p>
<pre><code class="ts"><span class="hl-1"> </span><span class="hl-0">setBackground</span><span class="hl-1">(</span><span class="hl-2">src</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-2">HTMLImageElement</span><span class="hl-1"> | </span><span class="hl-2">HTMLVideoElement</span><span class="hl-1"> | </span><span class="hl-2">Error</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="setbodypixmodel" class="tsd-anchor-link">setBodyPixModel<a href="#setbodypixmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Swaps out the currently used BodyPixModel used in ml mode (<code>GreenScreenMethod.VirtualBackground</code>) (See <a href="#greenscreenmethod-enum-1">GreenScreenMethod (Enum)</a>)</p>
<pre><code class="ts"><span class="hl-0">setBodyPixModel</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">: </span><span class="hl-2">IGreenScreenConfig</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="scaleimagetocanvas" class="tsd-anchor-link">scaleImageToCanvas<a href="#scaleimagetocanvas" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Scales the passed in image to canvas size and returns a scaled copy of it.
Gets called automatically everytime a new image background is set.
The imageOptions defaults to the current size of the greenscreen canvas and high quality .</p>
<pre><code class="ts"><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">async</span><span class="hl-1"> </span><span class="hl-0">scaleImageToCanvas</span><span class="hl-1">(</span><span class="hl-2">image</span><span class="hl-1">: </span><span class="hl-2">HTMLImageElement</span><span class="hl-1">, </span><span class="hl-2">imageOptions</span><span class="hl-1">?: </span><span class="hl-2">ImageBitmapOptions</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-2">HTMLImageElement</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="getcolorsfromstream" class="tsd-anchor-link">getColorsFromStream<a href="#getcolorsfromstream" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Gets the most dominant color and a list (palette) of the colors most common in the provided MediaStreamTrack.</p>
<pre><code class="ts"><span class="hl-0">getColorsFromStream</span><span class="hl-1">(): { </span><span class="hl-2">palette:</span><span class="hl-1"> [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">,</span><span class="hl-2">number</span><span class="hl-1">][], </span><span class="hl-2">dominant:</span><span class="hl-1"> [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">,</span><span class="hl-2">number</span><span class="hl-1">] } {</span>
</code><button type="button">Copy</button></pre>

<h3 id="setchromakey" class="tsd-anchor-link">setChromaKey<a href="#setchromakey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Pass a mask (rgb), color to the shader , to use as a mask.   Should be the <code>dominant color</code>, or on of the <code>palette</code> colors detected. See <code>getColorsFromStream</code></p>
<pre><code class="ts"><span class="hl-0">setChromaKey</span><span class="hl-1">(</span><span class="hl-2">r</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">g</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">b</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">threshold</span><span class="hl-1">?: </span><span class="hl-2">number</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="setrange" class="tsd-anchor-link">setRange<a href="#setrange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Range is used to decide the amount of color to be used from either foreground or background.Playing with this variable will decide how much the foreground and background blend together.</p>
<pre><code class="ts"><span class="hl-0">setMaskRange</span><span class="hl-1">(</span><span class="hl-2">x</span><span class="hl-1">:</span><span class="hl-2">number</span><span class="hl-1">,</span><span class="hl-2">y</span><span class="hl-1">:</span><span class="hl-2">number</span><span class="hl-1">): </span><span class="hl-4">void</span>
</code><button type="button">Copy</button></pre>

<h3 id="dominant" class="tsd-anchor-link">dominant<a href="#dominant" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Get the most dominant color based on imageData and number of pixels</p>
<pre><code class="ts"><span class="hl-0">dominant</span><span class="hl-1">(</span><span class="hl-2">imageData</span><span class="hl-1">: </span><span class="hl-2">ImageData</span><span class="hl-1">, </span><span class="hl-2">pixelCount</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">): [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">,</span><span class="hl-2">number</span><span class="hl-1">] {</span>
</code><button type="button">Copy</button></pre>

<h3 id="palette" class="tsd-anchor-link">palette<a href="#palette" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Get an Array of the most significant colors in the MediaTrack</p>
<pre><code class="ts"><span class="hl-0">pallette</span><span class="hl-1">(</span><span class="hl-2">imageData</span><span class="hl-1">: </span><span class="hl-2">ImageData</span><span class="hl-1">, </span><span class="hl-2">pixelCount</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">): [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">,</span><span class="hl-2">number</span><span class="hl-1">][] | </span><span class="hl-4">null</span><span class="hl-1"> {</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="greenscreenmethod-enum-1" class="tsd-anchor-link">GreenScreenMethod (Enum)<a href="#greenscreenmethod-enum-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Describes the method GreenScreenStream should use for applying a virtual background.<br>
<code>GreenScreenMethod.VirtualBackground</code> uses a machine learning model (Tensorflow BodyPix)<br>
<code>GreenScreenMethod.VirtualBackgroundUsingGreenScreen</code> works without a machine learning model and thus consumes much less performance,<br>
but requires the user to have a green screen.</p>
<pre><code class="ts"><span class="hl-4">enum</span><span class="hl-1"> </span><span class="hl-3">GreenScreenMethod</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">VirtualBackground</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-5">VirtualBackgroundUsingGreenScreen</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="videoresolution-enum-1" class="tsd-anchor-link">VideoResolution (enum)<a href="#videoresolution-enum-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Describes resolution presets GreenScreenStream should use.</p>
<pre><code class="ts"><span class="hl-4">enum</span><span class="hl-1"> </span><span class="hl-3">VideoResolution</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">SD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">HD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">FullHD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">WQHD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">UHD</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="vector2-class-1" class="tsd-anchor-link">Vector2 (Class)<a href="#vector2-class-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Describes a custom resolution that GreenScreenStream can use.</p>
<h2 id="constructor-1" class="tsd-anchor-link">Constructor<a href="#constructor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Both values default to zero.</p>
<pre><code class="ts"><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-2">x</span><span class="hl-1">?: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">y</span><span class="hl-1">?: </span><span class="hl-2">number</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="methods-1" class="tsd-anchor-link">Methods<a href="#methods-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="tostring" class="tsd-anchor-link">toString<a href="#tostring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns the current values as a string (<code>&quot; x : y&quot;</code>)</p>
<pre><code class="ts"><span class="hl-0">toString</span><span class="hl-1">(): </span><span class="hl-2">string</span><span class="hl-1"> </span>
</code><button type="button">Copy</button></pre>

<h3 id="tomediaconstraint" class="tsd-anchor-link">toMediaConstraint<a href="#tomediaconstraint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns the current value in a format that can be used as <code>MediaTrackConstraints</code></p>
<pre><code class="ts"><span class="hl-0">toMediaConstraint</span><span class="hl-1">(): </span><span class="hl-2">MediaTrackConstraints</span>
</code><button type="button">Copy</button></pre>

<h3 id="isvalidvector2" class="tsd-anchor-link">isValidVector2<a href="#isvalidvector2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Checks if the provided input is a valid vector2. Returns <code>true</code> if so.</p>
<pre><code class="ts"><span class="hl-2">static</span><span class="hl-1"> </span><span class="hl-0">isValidVector2</span><span class="hl-1">(</span><span class="hl-2">input</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">): </span><span class="hl-2">boolean</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="igreenscreenconfig-interface-1" class="tsd-anchor-link">IGreenScreenConfig (Interface)<a href="#igreenscreenconfig-interface-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Provides detailed configuration options for GreenScreenStream. <br>
<code>maskSettings</code> can be uses to fine tune the virtual background appearance. (<br>
<code>bodyPixMode</code> can be used to apply premade BodyPix configurations (see <a href="#greenscreenstreambodypixmode-enum-1">GreenScreenStreamBodyPixMode</a> for more details),<br>
while <code>bodyPixConfig</code> allows you to configure BodyPix as you see fit. If both are provided, <code>bodyPixMode</code> will be ignored.</p>
<pre><code class="ts"><span class="hl-2">IGreenScreenConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">maskSettings</span><span class="hl-1">?: </span><span class="hl-2">IMaskSettings</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">bodyPixMode</span><span class="hl-1">?: </span><span class="hl-2">GreenScreenStreamBodyPixMode</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">bodyPixConfig</span><span class="hl-1">?: </span><span class="hl-2">IBodyPixConfig</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="bodypixmode-enum-1" class="tsd-anchor-link">BodyPixMode (Enum)<a href="#bodypixmode-enum-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Determines which BodyPix Preset GreenStream should use.</p>
<p>Presets <code>Standard</code> or <code>Precise</code> are recommended for most use cases.<br>
<code>Fast</code> is meant for really weak clients, is unprecise and causes flickering.<br>
<code>Maximum</code> uses a more complex ML Model and thus causes much more network traffic &amp; gpu + cpu load.\</p>
<pre><code class="ts"><span class="hl-4">enum</span><span class="hl-1"> </span><span class="hl-3">BodyPixMode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">Fast</span><span class="hl-1"> = </span><span class="hl-6">0</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">Standard</span><span class="hl-1"> = </span><span class="hl-6">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">Precise</span><span class="hl-1"> = </span><span class="hl-6">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">Maximum</span><span class="hl-1"> = </span><span class="hl-6">3</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<br/>
<h2 id="preset-details" class="tsd-anchor-link">Preset Details:<a href="#preset-details" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="fast" class="tsd-anchor-link">Fast<a href="#fast" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-7">architecture</span><span class="hl-1">: </span><span class="hl-8">&#39;MobileNetV1&#39;</span><span class="hl-1">,</span><br/><span class="hl-7">outputStride</span><span class="hl-1">: </span><span class="hl-6">16</span><span class="hl-1">,</span><br/><span class="hl-7">multiplier</span><span class="hl-1">: </span><span class="hl-6">0.5</span><span class="hl-1">,</span><br/><span class="hl-7">quantBytes</span><span class="hl-1">: </span><span class="hl-6">1</span>
</code><button type="button">Copy</button></pre>

<h3 id="standard" class="tsd-anchor-link">Standard<a href="#standard" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-7">architecture</span><span class="hl-1">: </span><span class="hl-8">&#39;MobileNetV1&#39;</span><span class="hl-1">,</span><br/><span class="hl-7">outputStride</span><span class="hl-1">: </span><span class="hl-6">16</span><span class="hl-1">,</span><br/><span class="hl-7">multiplier</span><span class="hl-1">: </span><span class="hl-6">0.75</span><span class="hl-1">,</span><br/><span class="hl-7">quantBytes</span><span class="hl-1">: </span><span class="hl-6">2</span>
</code><button type="button">Copy</button></pre>

<h3 id="precise" class="tsd-anchor-link">Precise<a href="#precise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-7">architecture</span><span class="hl-1">: </span><span class="hl-8">&#39;MobileNetV1&#39;</span><span class="hl-1">,</span><br/><span class="hl-7">outputStride</span><span class="hl-1">: </span><span class="hl-6">16</span><span class="hl-1">,</span><br/><span class="hl-7">multiplier</span><span class="hl-1">: </span><span class="hl-6">1</span><span class="hl-1">,</span><br/><span class="hl-7">quantBytes</span><span class="hl-1">: </span><span class="hl-6">2</span>
</code><button type="button">Copy</button></pre>

<h3 id="maximum" class="tsd-anchor-link">Maximum<a href="#maximum" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-7">architecture</span><span class="hl-1">: </span><span class="hl-8">&#39;ResNet50&#39;</span><span class="hl-1">,</span><br/><span class="hl-7">outputStride</span><span class="hl-1">: </span><span class="hl-6">32</span><span class="hl-1">,</span><br/><span class="hl-7">quantBytes</span><span class="hl-1">: </span><span class="hl-6">2</span>
</code><button type="button">Copy</button></pre>

<br/>
<br/>
<h1 id="imasksettings-interface-1" class="tsd-anchor-link">IMaskSettings (Interface)<a href="#imasksettings-interface-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Description TBA</p>
<pre><code class="ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">IMaskSettings</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">opacity</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">    </span><span class="hl-2">flipHorizontal</span><span class="hl-1">?: </span><span class="hl-3">boolean</span><br/><span class="hl-1">    </span><span class="hl-2">maskBlurAmount</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">    </span><span class="hl-2">foregroundColor</span><span class="hl-1">?: </span><span class="hl-3">RGBA</span><br/><span class="hl-1">    </span><span class="hl-2">backgroundColor</span><span class="hl-1">?: </span><span class="hl-3">RGBA</span><br/><span class="hl-1">    </span><span class="hl-2">segmentPerson</span><span class="hl-1">?: {</span><br/><span class="hl-1">        </span><span class="hl-2">flipHorizontal</span><span class="hl-1">?: </span><span class="hl-3">boolean</span><br/><span class="hl-1">        </span><span class="hl-2">internalResolution</span><span class="hl-1">?: </span><span class="hl-3">string</span><br/><span class="hl-1">        </span><span class="hl-2">segmentationThreshold</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">        </span><span class="hl-2">maxDetections</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">        </span><span class="hl-2">quantBytes</span><span class="hl-1">?: </span><span class="hl-3">number</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-9">export</span><span class="hl-1"> </span><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">RGBA</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">r</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-2">g</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-2">b</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-2">a</span><span class="hl-1">: </span><span class="hl-3">number</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><a href="#about"><span>About</span></a></li><li><a href="#install"><span>Install</span></a></li><li><a href="#examples"><span>Examples</span></a></li></ul><a href="#greenscreenstream-api"><span>Green<wbr/>Screen<wbr/>Stream <wbr/>API</span></a><ul><li><a href="#contents"><span>Contents</span></a></li><li><ul><li><a href="#greenscreenstream-class"><span>Green<wbr/>Screen<wbr/>Stream (<wbr/>Class)</span></a></li><li><a href="#greenscreenmethod-enum"><span>Green<wbr/>Screen<wbr/>Method (<wbr/>Enum)</span></a></li><li><a href="#vector2-class"><span>Vector2 (<wbr/>Class)</span></a></li><li><a href="#videoresolution-enum"><span>Video<wbr/>Resolution (<wbr/>Enum)</span></a></li><li><a href="#igreenscreenconfig-interface"><span>I<wbr/>Green<wbr/>Screen<wbr/>Config (<wbr/>Interface)</span></a></li><li><a href="#bodypixmode-enum"><span>Body<wbr/>Pix<wbr/>Mode (<wbr/>Enum)</span></a></li><li><a href="#imasksettings-interface"><span>I<wbr/>Mask<wbr/>Settings (<wbr/>Interface)</span></a></li></ul></li></ul><a href="#greenscreenstream-class-1"><span>Green<wbr/>Screen<wbr/>Stream (<wbr/>Class)</span></a><ul><li><a href="#constructor"><span>Constructor</span></a></li><li><a href="#methods"><span>Methods</span></a></li><li><ul><li><a href="#initialize"><span>initialize</span></a></li><li><a href="#addvideotrack"><span>add<wbr/>Video<wbr/>Track</span></a></li><li><a href="#start"><span>start</span></a></li><li><a href="#stop"><span>stop</span></a></li><li><a href="#capturestream"><span>capture<wbr/>Stream</span></a></li><li><a href="#setbackground"><span>set<wbr/>Background</span></a></li><li><a href="#setbodypixmodel"><span>set<wbr/>Body<wbr/>Pix<wbr/>Model</span></a></li><li><a href="#scaleimagetocanvas"><span>scale<wbr/>Image<wbr/>To<wbr/>Canvas</span></a></li><li><a href="#getcolorsfromstream"><span>get<wbr/>Colors<wbr/>From<wbr/>Stream</span></a></li><li><a href="#setchromakey"><span>set<wbr/>Chroma<wbr/>Key</span></a></li><li><a href="#setrange"><span>set<wbr/>Range</span></a></li><li><a href="#dominant"><span>dominant</span></a></li><li><a href="#palette"><span>palette</span></a></li></ul></li></ul><a href="#greenscreenmethod-enum-1"><span>Green<wbr/>Screen<wbr/>Method (<wbr/>Enum)</span></a><a href="#videoresolution-enum-1"><span>Video<wbr/>Resolution (enum)</span></a><a href="#vector2-class-1"><span>Vector2 (<wbr/>Class)</span></a><ul><li><a href="#constructor-1"><span>Constructor</span></a></li><li><a href="#methods-1"><span>Methods</span></a></li><li><ul><li><a href="#tostring"><span>to<wbr/>String</span></a></li><li><a href="#tomediaconstraint"><span>to<wbr/>Media<wbr/>Constraint</span></a></li><li><a href="#isvalidvector2"><span>is<wbr/>Valid<wbr/>Vector2</span></a></li></ul></li></ul><a href="#igreenscreenconfig-interface-1"><span>I<wbr/>Green<wbr/>Screen<wbr/>Config (<wbr/>Interface)</span></a><a href="#bodypixmode-enum-1"><span>Body<wbr/>Pix<wbr/>Mode (<wbr/>Enum)</span></a><ul><li><a href="#preset-details"><span>Preset <wbr/>Details:</span></a></li><li><ul><li><a href="#fast"><span>Fast</span></a></li><li><a href="#standard"><span>Standard</span></a></li><li><a href="#precise"><span>Precise</span></a></li><li><a href="#maximum"><span>Maximum</span></a></li></ul></li></ul><a href="#imasksettings-interface-1"><span>I<wbr/>Mask<wbr/>Settings (<wbr/>Interface)</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@virtualscenery/greenscreenstream</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
